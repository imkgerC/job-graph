<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Job graph</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="container">
        <div class="leftbar inside">
            <div>
                <input list="professions" name="professions" type="text" id="searchbar" onkeydown="search_keydown()"/>
            </div>
            <div>&nbsp;</div>
            <div class="toggle">
                <input type="radio" id="connection-full" name="connection" value="full" onclick="update()" checked>
                <label for="connection-full">Full</label>
                <input type="radio" id="connection-from" name="connection" value="from" onclick="update()">
                <label for="connection-from">From</label>
                <input type="radio" id="connection-to" name="connection" value="to" onclick="update()">
                <label for="connection-to">To</label>
            </div>
        </div> 
        <div class="main inside">
            <object data="svgs/accountant.svg" type="image/svg+xml" id="svg_container"></object>
        </div>
        <datalist id='professions'><option value="academic librarian">Academic librarian</option><option value="accountant">Accountant</option><option value="actuary">Actuary</option><option value="advertising copywriter">Advertising copywriter</option><option value="aeronautical engineer">Aeronautical engineer</option><option value="agricultural consultant">Agricultural consultant</option><option value="aid worker">Aid worker</option><option value="air traffic controller">Air traffic controller</option><option value="airline cabin crew">Airline cabin crew</option><option value="analytical chemist">Analytical chemist</option><option value="animator">Animator</option><option value="archaeologist">Archaeologist</option><option value="architect">Architect</option><option value="archivist">Archivist</option><option value="armed forces officer">Armed forces officer</option><option value="aromatherapist">Aromatherapist</option><option value="auditor">Auditor</option><option value="automotive engineer">Automotive engineer</option><option value="barrister">Barrister</option><option value="barristers clerk">Barristers clerk</option><option value="biomedical scientist">Biomedical scientist</option><option value="biotechnologist">Biotechnologist</option><option value="brand manager">Brand manager</option><option value="broadcasting presenter">Broadcasting presenter</option><option value="building surveyor">Building surveyor</option><option value="camera operator">Camera operator</option><option value="careers adviser">Careers adviser</option><option value="cartographer">Cartographer</option><option value="catering manager">Catering manager</option><option value="charities administrator">Charities administrator</option><option value="chemical engineer">Chemical engineer</option><option value="child psychotherapist">Child psychotherapist</option><option value="chiropractor">Chiropractor</option><option value="civil engineer">Civil engineer</option><option value="civil service administrator">Civil Service administrator</option><option value="clinical biochemist">Clinical biochemist</option><option value="clinical microbiologist">Clinical microbiologist</option><option value="clinical research associate">Clinical research associate</option><option value="clothing and textile technologist">Clothing and textile technologist</option><option value="commercial horticulturist">Commercial horticulturist</option><option value="commissioning editor">Commissioning editor</option><option value="commodity broker">Commodity broker</option><option value="community education officer">Community education officer</option><option value="community worker">Community worker</option><option value="computer sales support">Computer sales support</option><option value="conference organiser">Conference organiser</option><option value="content manager">Content Manager</option><option value="control and instrumentation engineer">Control and instrumentation engineer</option><option value="corporate banker">Corporate banker</option><option value="corporate treasurer">Corporate treasurer</option><option value="counsellor">Counsellor</option><option value="courier">Courier</option><option value="crystallographer">Crystallographer</option><option value="curator">Curator</option><option value="customs officer">Customs officer</option><option value="data scientist">Data scientist</option><option value="database administrator">Database administrator</option><option value="debt adviser">Debt adviser</option><option value="dentist">Dentist</option><option value="dietitian">Dietitian</option><option value="diplomatic service">Diplomatic service</option><option value="doctor">Doctor</option><option value="economist">Economist</option><option value="education administrator">Education administrator</option><option value="electrical engineer">Electrical engineer</option><option value="engineering geologist">Engineering geologist</option><option value="environmental health officer">Environmental health officer</option><option value="environmental manager">Environmental manager</option><option value="environmental scientist">Environmental scientist</option><option value="equality and diversity officer">Equality and diversity officer</option><option value="ergonomist">Ergonomist</option><option value="exploration geologist">Exploration geologist</option><option value="facilities manager">Facilities manager</option><option value="financial manager">Financial manager</option><option value="firefighter">Firefighter</option><option value="fisheries officer">Fisheries officer</option><option value="fitness centre manager">Fitness centre manager</option><option value="food scientist">Food scientist</option><option value="forensic scientist">Forensic scientist</option><option value="geneticist">Geneticist</option><option value="geographical information systems manager">Geographical information systems manager</option><option value="government research officer">Government research officer</option><option value="graphic designer">Graphic designer</option><option value="health and safety adviser">Health and safety adviser</option><option value="health and safety inspector">Health and safety inspector</option><option value="herbalist">Herbalist</option><option value="heritage manager">Heritage manager</option><option value="hotel manager">Hotel manager</option><option value="housing adviser">Housing adviser</option><option value="human resources officer">Human resources officer</option><option value="hydrologist">Hydrologist</option><option value="illustrator">Illustrator</option><option value="immigration officer">Immigration officer</option><option value="immunologist">Immunologist</option><option value="industrial designer">Industrial designer</option><option value="insurance broker">Insurance broker</option><option value="insurance claims inspector">Insurance claims inspector</option><option value="investment analyst">Investment analyst</option><option value="investment banker">Investment banker</option><option value="investment fund manager">Investment fund manager</option><option value="it consultant">IT consultant</option><option value="journalist">Journalist</option><option value="laboratory technician">Laboratory technician</option><option value="landscape architect">Landscape architect</option><option value="lawyer">Lawyer</option><option value="lecturer">Lecturer</option><option value="legal executive">Legal executive</option><option value="leisure centre manager">Leisure centre manager</option><option value="librarian">Librarian</option><option value="local government administrator">Local government administrator</option><option value="logistics manager">Logistics manager</option><option value="manufacturing engineer">Manufacturing engineer</option><option value="manufacturing machine operator">Manufacturing machine operator</option><option value="market research analyst">Market research analyst</option><option value="marketing assistant">Marketing assistant</option><option value="marketing executive">Marketing executive</option><option value="materials specialist">Materials specialist</option><option value="mechanical engineer">Mechanical engineer</option><option value="media planner">Media planner</option><option value="medical physicist">Medical physicist</option><option value="metallurgist">Metallurgist</option><option value="meteorologist">Meteorologist</option><option value="microbiologist">Microbiologist</option><option value="midwife">Midwife</option><option value="mining engineer">Mining engineer</option><option value="museum education officer">Museum education officer</option><option value="museum exhibition officer">Museum exhibition officer</option><option value="nanoscientist">Nanoscientist</option><option value="nature conservation officer">Nature conservation officer</option><option value="network administrator">Network administrator</option><option value="nurse">Nurse</option><option value="occupational therapist">Occupational therapist</option><option value="oceanographer">Oceanographer</option><option value="office manager">Office manager</option><option value="operational researcher">Operational researcher</option><option value="outdoor pursuits manager">Outdoor pursuits manager</option><option value="packaging technologist">Packaging technologist</option><option value="paramedic">Paramedic</option><option value="patent attorney">Patent attorney</option><option value="personal assistant">Personal assistant</option><option value="pharmacist">Pharmacist</option><option value="pharmacovigilance officer">Pharmacovigilance officer</option><option value="photographer">Photographer</option><option value="physiotherapist">Physiotherapist</option><option value="planning technician">Planning technician</option><option value="police officer">Police officer</option><option value="political party agent">Political party agent</option><option value="press photographer">Press photographer</option><option value="press editor">Press editor</option><option value="prison officer">Prison officer</option><option value="private music teacher">Private music teacher</option><option value="probation officer">Probation officer</option><option value="product development scientist">Product development scientist</option><option value="production manager">Production manager</option><option value="programme researcher">Programme researcher</option><option value="project manager">Project manager</option><option value="psychologist">Psychologist</option><option value="psychotherapist">Psychotherapist</option><option value="public affairs consultant">Public affairs consultant</option><option value="public house manager">Public house manager</option><option value="pr officer">PR officer</option><option value="qa analyst">QA analyst</option><option value="quality assurance manager">Quality assurance manager</option><option value="records manager">Records manager</option><option value="regulatory affairs officer">Regulatory affairs officer</option><option value="research scientist">Research scientist</option><option value="restaurant manager">Restaurant manager</option><option value="retail banker">Retail banker</option><option value="retail buyer">Retail buyer</option><option value="retail manager">Retail manager</option><option value="retail merchandiser">Retail merchandiser</option><option value="retail pharmacist">Retail pharmacist</option><option value="sales executive">Sales executive</option><option value="sales manager">Sales manager</option><option value="scene of crime officer">Scene of crime officer</option><option value="secretary">Secretary</option><option value="set designer">Set designer</option><option value="site manager">Site manager</option><option value="social researcher">Social researcher</option><option value="social worker">Social worker</option><option value="software architect">Software architect</option><option value="software developer">Software developer</option><option value="solicitor">Solicitor</option><option value="speech and language therapist">Speech and language therapist</option><option value="sports coach">Sports coach</option><option value="sports development officer">Sports development officer</option><option value="sports therapist">Sports therapist</option><option value="statistician">Statistician</option><option value="stockbroker">Stockbroker</option><option value="structural engineer">Structural engineer</option><option value="systems analyst">Systems analyst</option><option value="systems developer">Systems developer</option><option value="tax inspector">Tax inspector</option><option value="teacher">Teacher</option><option value="teaching assistant">Teaching assistant</option><option value="technical author">Technical author</option><option value="television production assistant">Television production assistant</option><option value="tour operator">Tour operator</option><option value="tourism officer">Tourism officer</option><option value="tourist information manager">Tourist information manager</option><option value="town and country planner">Town and country planner</option><option value="toxicologist">Toxicologist</option><option value="trade union research officer">Trade union research officer</option><option value="trader">Trader</option><option value="trading standards officer">Trading standards officer</option><option value="training and development officer">Training and development officer</option><option value="translator">Translator</option><option value="transportation planner">Transportation planner</option><option value="travel agent">Travel agent</option><option value="ux designer">UX designer</option><option value="veterinary surgeon">Veterinary surgeon</option><option value="video game designer">Video game designer</option><option value="warehouse manager">Warehouse manager</option><option value="water officer">Water officer</option><option value="web designer">Web designer</option><option value="welfare rights adviser">Welfare rights adviser</option><option value="writer">Writer</option><option value="youth worker">Youth worker</option></datalist>
    </div>
    <script>
        function search_keydown() {
            if (event.key == 'Enter') {
                let value = document.getElementById("searchbar").value.trim();
                let prefix = "";
                if (document.getElementById("connection-from").checked) {
                    prefix = "from_";
                }
                if (document.getElementById("connection-to").checked) {
                    prefix = "to_";
                }

                document.getElementById('svg_container').setAttribute("data", "svgs/" + prefix + value + ".svg");
                let element = document.getElementById("svg_container");
                let cloneElement = element.cloneNode(true);
                element.parentNode.replaceChild(cloneElement, element); 
            }
        }
        function update() {
            let profession = document.getElementById('svg_container').contentDocument.getElementById("graph0").childNodes[1].textContent;
            let value = profession.replaceAll("_", " ")
            
            let prefix = "";
            if (document.getElementById("connection-from").checked) {
                prefix = "from_";
            }
            if (document.getElementById("connection-to").checked) {
                prefix = "to_";
            }

            document.getElementById('svg_container').setAttribute("data", "svgs/" + prefix + value + ".svg");
            let element = document.getElementById("svg_container");
            let cloneElement = element.cloneNode(true);
            element.parentNode.replaceChild(cloneElement, element); 
        }
    </script>
</body>
</html>